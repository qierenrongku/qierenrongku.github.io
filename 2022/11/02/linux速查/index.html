<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="一个能把简单的事情做好的人就是一个不简单的人">
    <meta name="author" content="且任容枯">
    
    <title>
        
            linux速查 |
        
        且任容枯
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"qierenrongku.github.io.git","root":"/","language":"zh-CN","path":"search.xml"};
    KEEP.theme_config = {"toc":{"enable":false,"number":false,"expand_all":false,"init_open":false},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.svg","favicon":"/images/logo.svg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":false,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving."},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":false,"preload":false},"code_copy":{"enable":false,"style":"default"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"};
  </script>
<meta name="generator" content="Hexo 6.1.0"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                且任容枯
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                    
                </ul>
            </div>
            <div class="mobile">
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">linux速查</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.svg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">且任容枯</span>
                        
                            <span class="author-label">Lv1</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-11-02 22:05:00</span>
        <span class="mobile">2022-11-02 22:05</span>
    </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/linux-shell/">linux|shell</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h1 id="linux速查"><a href="#linux速查" class="headerlink" title="linux速查"></a>linux速查</h1><h5 id="重置root管理员密码"><a href="#重置root管理员密码" class="headerlink" title="重置root管理员密码"></a>重置root管理员密码</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启linux系统  出现引导界面按下键盘上的e键进入内核编辑界面</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">linux16 的那一行后面，空格，再追加 init=/bin/sh</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">然后按下Ctrl+X组合键来运行修改过的内核程序 大约30秒过后，进入到系统的紧急求援模式</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">挂载根目录</span></span><br><span class="line">mount -o remount, rw /</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">选择要修改密码的用户名，这里选择root用户进行修改，可以更换为你要修改的用户</span></span><br><span class="line">passwd root</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新系统信息 <span class="built_in">touch</span> /.authorelabel</span></span><br><span class="line">touch /.authorelabel</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">最后输入以下命令重启系统即可</span></span><br><span class="line">exec /sbin/init  或   exec /sbin/reboot</span><br></pre></td></tr></table></figure>

<h5 id="RPM（红帽软件包管理器）"><a href="#RPM（红帽软件包管理器）" class="headerlink" title="RPM（红帽软件包管理器）"></a>RPM（红帽软件包管理器）</h5><p>在RPM（红帽软件包管理器）公布之前，要想在Linux系统中安装软件只能采取源码包的方式安装。早期在Linux系统中安装程序是一件非常困难、耗费耐心的事情，而且大多数的服务程序仅仅提供源代码，需要运维人员自行编译代码并解决许多的软件依赖关系，因此要安装好一个服务程序，运维人员需要具备丰富知识、高超的技能，甚至良好的耐心。而且在安装、升级、卸载服务程序时还要考虑到其他程序、库的依赖关系，所以在进行校验、安装、卸载、查询、升级等管理软件操作时难度都非常大</p>
<p>RPM机制则为解决这些问题而设计的。RPM有点像Windows系统中的控制面板，会建立统一的数据库文件，详细记录软件信息并能够自动分析依赖关系。目前RPM的优势已经被公众所认可，使用范围也已不局限在红帽系统中了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh filename.rpm  # 安装</span><br><span class="line">rpm -Uvh filename.rpm  # 升级</span><br><span class="line">rpm -e   filename.rpm  # 卸载</span><br><span class="line">rpm -qpi filename.rpm  # 查询软件描述信息</span><br><span class="line">rpm -qpl filename.rpm  # 列出软件文件信息</span><br><span class="line">rpm -qf  filename.rpm  # 查询文件属于哪个rpm</span><br></pre></td></tr></table></figure>

<h5 id="Yum软件仓库"><a href="#Yum软件仓库" class="headerlink" title="Yum软件仓库"></a>Yum软件仓库</h5><p>Yum软件仓库可以根据用户的要求分析出所需软件包及其相关的依赖关系，然后自动从服务器下载软件包并安装到系统。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">yum repolist all	# 列出所有的仓库</span><br><span class="line">yum list all 		# 列出仓库中的所有软件包</span><br><span class="line">yum info 软件包名称	 # 查看软件包信息</span><br><span class="line">yum install 软件包名称	 # 安装软件包</span><br><span class="line">yum reinstall 软件包名称	 # 重新安装软件包信息</span><br><span class="line">yum update 软件包名称	 # 升级软件包</span><br><span class="line">yum remove 软件包	 # 移除软件包</span><br><span class="line">yum clean all  # 清除所有仓库缓存</span><br><span class="line">yum check-update 	 # 检查可更新的软件包</span><br><span class="line">yum grouplist 	 # 查看系统中已安装的软件包组</span><br><span class="line">yum groupinstall 软件包组	 # 安装软件包组</span><br><span class="line">yum groupremove 软件包组	 # 移除软件包组信息</span><br><span class="line">yum groupinfo 软件包组	 # 查看软件包组信息</span><br></pre></td></tr></table></figure>

<h5 id="systemd初始化进程"><a href="#systemd初始化进程" class="headerlink" title="systemd初始化进程"></a>systemd初始化进程</h5><p>Linux操作系统的开机过程从BIOS开始，然后进入Boot Loader，再加载系统内核，然后内核初始化，最后启动初始化进程。</p>
<p>初始化进程作为Linux系统的第一个进程，它需要完成Linux系统中相关的初始化工作，为用户提供合适的工作环境。红帽RHEL 7系统已经替换掉了熟悉的初始化进程服务System V init，正式采用全新的systemd初始化进程服务。RHEL 7系统选择systemd初始化进程服务已经是一个既定事实，因此也没有了“运行级别”这个概念，Linux系统在启动时要进行大量的初始化工作，比如挂载文件系统和交换分区、启动各类进程服务等，这些都可以看作是一个一个的单元（Unit）, systemd用目标（target）代替了System V init中运行级别的概念，这两者的区别如表所示。</p>
<table>
<thead>
<tr>
<th align="left">System V init</th>
<th>systemd目标名称</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">0</td>
<td>runlevel0.target,poweroff.target</td>
<td>关机</td>
</tr>
<tr>
<td align="left">1</td>
<td>runlevel1.target,rescue.target</td>
<td>单用户模式</td>
</tr>
<tr>
<td align="left">2</td>
<td>runlevel2.target,multi-user.target</td>
<td>等同于级别三</td>
</tr>
<tr>
<td align="left">3</td>
<td>runlevel3.target,multi-user.target</td>
<td>多用户的文本界面</td>
</tr>
<tr>
<td align="left">4</td>
<td>runlevel4.target,multi-user.target</td>
<td>等同于级别三</td>
</tr>
<tr>
<td align="left">5</td>
<td>runlevel5.target,graphical.target</td>
<td>多用户的图形界面</td>
</tr>
<tr>
<td align="left">6</td>
<td>runlevel6.target,reboot.target</td>
<td>重启</td>
</tr>
<tr>
<td align="left">emergency</td>
<td>emergency.target</td>
<td>紧急shell</td>
</tr>
</tbody></table>
<p>如果想要将系统默认的运行目标修改为“多用户，无图形”模式，可直接用ln命令把多用户模式目标文件连接到&#x2F;etc&#x2F;systemd&#x2F;system&#x2F;目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -sf /lib/systemd/system/multi-user.target /etc/systemd/system/default.target</span><br></pre></td></tr></table></figure>

<h5 id="systemctl管理服务的启动、重启、停止、重载、查看状态等常用命令"><a href="#systemctl管理服务的启动、重启、停止、重载、查看状态等常用命令" class="headerlink" title="systemctl管理服务的启动、重启、停止、重载、查看状态等常用命令"></a>systemctl管理服务的启动、重启、停止、重载、查看状态等常用命令</h5><table>
<thead>
<tr>
<th>System Vinit命令</th>
<th>systemctl 命令（RHEL 7 系统）</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>service foo start</td>
<td>systemctl start foo.service</td>
<td>启动服务</td>
</tr>
<tr>
<td>service foo restart</td>
<td>systemctl restart foo.service</td>
<td>重启服务</td>
</tr>
<tr>
<td>service foo stop</td>
<td>systemctl stop foo.service</td>
<td>停止服务</td>
</tr>
<tr>
<td>service foo reload</td>
<td>systemctl reload foo.serivce</td>
<td>重新加载配置文件（不终止服务）</td>
</tr>
<tr>
<td>service foo status</td>
<td>systemctl status foo.service</td>
<td>查看服务状态</td>
</tr>
</tbody></table>
<h5 id="ystemctl设置服务开机启动、不启动、查看各级别下服务启动状态等常用命令"><a href="#ystemctl设置服务开机启动、不启动、查看各级别下服务启动状态等常用命令" class="headerlink" title="ystemctl设置服务开机启动、不启动、查看各级别下服务启动状态等常用命令"></a>ystemctl设置服务开机启动、不启动、查看各级别下服务启动状态等常用命令</h5><table>
<thead>
<tr>
<th>System V init命令</th>
<th>systemctl 命令（RHEL 7 系统）</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>checkconfig foo on</td>
<td>systemctl enable foo.service</td>
<td>开机自动启动</td>
</tr>
<tr>
<td>chkconfig foo off</td>
<td>systemctl disable foo.service</td>
<td>开机不自动启动</td>
</tr>
<tr>
<td>chkconfig foo</td>
<td>systemctl is-enabled foo.service</td>
<td>查看特定服务是否为开机自动启动</td>
</tr>
<tr>
<td>chkconfig –list</td>
<td>systemctl list-unit-files –type&#x3D;type&#x3D;service</td>
<td>查看各个级别下服务的启动与禁用情况</td>
</tr>
</tbody></table>
<h5 id="用户与Linux系统的交互"><a href="#用户与Linux系统的交互" class="headerlink" title="用户与Linux系统的交互"></a>用户与Linux系统的交互</h5><p><img src="https://cdn.staticaly.com/gh/qierenrongku/images@master/image-20221102224807879.4mbbezm35rq0.webp" alt="image-20221102224807879"></p>
<p>格式：命令名称 [命令参数] [命令对象]    </p>
<p>长格式：man –help  短格式：man -h</p>
<p>man man</p>
<h5 id="echo命令"><a href="#echo命令" class="headerlink" title="echo命令"></a>echo命令</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">输出字符串或变量</span></span><br><span class="line">[root@localhost ~]# echo hello world</span><br><span class="line">hello world</span><br><span class="line">[root@localhost ~]# echo $BASH</span><br><span class="line">/usr/bin/bash</span><br></pre></td></tr></table></figure>

<h5 id="date命令"><a href="#date命令" class="headerlink" title="date命令"></a><strong>date命令</strong></h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# date</span><br><span class="line">2022年 11月 02日 星期三 22:54:55 CST</span><br><span class="line">[root@localhost ~]# date &quot;+%Y-%m-%d %H:%M:%S&quot;</span><br><span class="line">2022-11-02 22:55:06</span><br><span class="line">[root@localhost ~]# date -s &quot;2021-01-08 22:53:28&quot;</span><br><span class="line">2021年 01月 08日 星期五 22:53:28 CST</span><br><span class="line">[root@localhost ~]# date</span><br><span class="line">2021年 01月 08日 星期五 22:53:35 CST</span><br><span class="line">[root@localhost ~]# date &quot;+%j&quot; # date命令中的参数%j可用来查看今天是当年中的第几天</span><br><span class="line">008</span><br></pre></td></tr></table></figure>

<h5 id="wget命令"><a href="#wget命令" class="headerlink" title="wget命令"></a>wget命令</h5><p>wget命令用于在终端中下载网络文件，格式为“wget [参数]下载地址”</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# wget https://www.linuxprobe.com/docs/LinuxProbe.pdf --no-check-certificate</span><br><span class="line">--2021-01-08 22:58:00--  https://www.linuxprobe.com/docs/LinuxProbe.pdf</span><br><span class="line">正在解析主机 www.linuxprobe.com (www.linuxprobe.com)... 117.169.12.168</span><br><span class="line">正在连接 www.linuxprobe.com (www.linuxprobe.com)|117.169.12.168|:443... 已连接。</span><br><span class="line">警告: 无法验证 www.linuxprobe.com 的由 “/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=Encryption Everywhere DV TLS CA - G1” 颁发的证书:</span><br><span class="line">  颁发的证书还未生效。</span><br><span class="line">已发出 HTTP 请求，正在等待回应... 200 OK</span><br><span class="line">长度：23335661 (22M) [application/pdf]</span><br><span class="line">正在保存至: “LinuxProbe.pdf”</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">100%</span><span class="language-bash">[=========================================================================================================&gt;] 23,335,661  9.31MB/s 用时 2.4s</span>   </span><br><span class="line"></span><br><span class="line">2021-01-08 22:58:03 (9.31 MB/s) - 已保存 “LinuxProbe.pdf” [23335661/23335661])</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-b</td>
<td>后台下载模式</td>
</tr>
<tr>
<td>-P</td>
<td>下载到指定目录</td>
</tr>
<tr>
<td>-t</td>
<td>最大尝试次数</td>
</tr>
<tr>
<td>-c</td>
<td>断点续传</td>
</tr>
<tr>
<td>-p</td>
<td>下载页面内所有资源，包括图片视频</td>
</tr>
<tr>
<td>-r</td>
<td>递归下载</td>
</tr>
</tbody></table>
<h5 id="ps命令"><a href="#ps命令" class="headerlink" title="ps命令"></a>ps命令</h5><p>ps命令用于查看系统中的进程状态，格式为“ps [参数]”。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>显示所有进程（包括其他用户）</td>
</tr>
<tr>
<td>-u</td>
<td>用户以及其他详细信息</td>
</tr>
<tr>
<td>-x</td>
<td>显示没有控制终端的进程</td>
</tr>
</tbody></table>
<p>5种常见的进程状态，分别为运行、中断、不可中断、僵死与停止</p>
<p>R（运行）：进程正在运行或在运行队列中等待。</p>
<p>S（中断）：进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离该   状态。</p>
<p>D（不可中断）：进程不响应系统异步信号，即便用kill命令也不能将其中断。</p>
<p>Z（僵死）：进程已经终止，但进程描述符依然存在, 直到父进程调用wait4()系统函数后将进程释放。</p>
<p>T（停止）：进程收到停止信号后停止运行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ps -aux</span></span><br><span class="line">  </span><br><span class="line">USER        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br><span class="line">root          1  0.0  0.1 194092  7248 ?        Ss   14:21   0:03 /usr/lib/systemd/systemd --switched-root --system --deserialize 22</span><br><span class="line">root          2  0.0  0.0      0     0 ?        S    14:21   0:00 [kthreadd]</span><br><span class="line">root          4  0.0  0.0      0     0 ?        S&lt;   14:21   0:00 [kworker/0:0H]</span><br><span class="line">root          6  0.0  0.0      0     0 ?        S    14:21   0:00 [ksoftirqd/0]</span><br><span class="line">root          7  0.0  0.0      0     0 ?        S    14:21   0:00 [migration/0]</span><br><span class="line">root          8  0.0  0.0      0     0 ?        S    14:21   0:00 [rcu_bh]</span><br><span class="line">root          9  0.0  0.0      0     0 ?        S    14:21   0:04 [rcu_sched]</span><br><span class="line">root         10  0.0  0.0      0     0 ?        S&lt;   14:21   0:00 [lru-add-drain]</span><br><span class="line">root         11  0.0  0.0      0     0 ?        S    14:21   0:00 [watchdog/0]</span><br><span class="line">root         12  0.0  0.0      0     0 ?        S    14:21   0:00 [watchdog/1]</span><br><span class="line">root         13  0.0  0.0      0     0 ?        S    14:21   0:00 [migration/1]</span><br><span class="line">root         14  0.0  0.0      0     0 ?        S    14:21   0:00 [ksoftirqd/1]</span><br><span class="line">root         16  0.0  0.0      0     0 ?        S&lt;   14:21   0:00 [kworker/1:0H]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">所有者  ID号  cpu占用  内存占用  虚拟内存使用  固定内存占用  所在终端   进程状态   启动时间  cpu使用时间   命令名称和参数</span></span><br></pre></td></tr></table></figure>

<h5 id="top命令"><a href="#top命令" class="headerlink" title="top命令"></a>top命令</h5><p>top命令用于动态地监视进程活动与系统负载等信息，其格式为top     （Windows任务管理器）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">top - 23:10:22 up  8:48,  3 users,  load average: 0.18, 0.09, 0.06</span><br><span class="line">Tasks: 228 total,   1 running, 225 sleeping,   2 stopped,   0 zombie</span><br><span class="line"><span class="meta prompt_">%</span><span class="language-bash">Cpu(s):  2.6 us,  1.2 sy,  0.0 ni, 96.1 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.1 si,  0.0 st</span></span><br><span class="line">KiB Mem :  3861260 total,   220208 free,  1303200 used,  2337852 buff/cache</span><br><span class="line">KiB Swap:   975868 total,   975868 free,        0 used.  2184816 avail Mem </span><br><span class="line"></span><br><span class="line">   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                   2239 root      20   0 3678012 310132 107300 S   9.0  8.0   2:15.29 gnome-shell                               1704 root      20   0  510376 194192  96164 S   8.0  5.0   0:54.58 X                                        62138 root      20   0  768724  36612  20888 S   2.3  0.9   0:08.44 gnome-terminal-                          58817 root      20   0 1100340  43056  14704 S   0.7  1.1   1:15.03 containerd                             </span><br></pre></td></tr></table></figure>

<p>第1行：系统时间、运行时间、登录终端数、系统负载（三个数值分别为1分钟、5分钟、15分钟内的平均值，数值越小意味着负载越低）</p>
<p>第2行：进程总数、运行中的进程数、睡眠中的进程数、停止的进程数、僵死的进程数。                                           </p>
<p>第3行：用户占用资源百分比、系统内核占用资源百分比、改变过优先级的进程资源百分比、空闲的资源百分比等。数据均为CPU数据并以百分比格式显示</p>
<p>第4行：物理内存总量、内存使用量、内存空闲量、作为内核缓存的内存量。</p>
<p>第5行：虚拟内存总量、虚拟内存使用量、虚拟内存空闲量、已被提前加载的内存量。</p>
<h5 id="pidof命令"><a href="#pidof命令" class="headerlink" title="pidof命令"></a>pidof命令</h5><p>pidof命令用于查询某个指定服务进程的PID值，格式为“pidof [参数] [服务名称]”。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# pidof sshd</span><br><span class="line">1134</span><br></pre></td></tr></table></figure>

<h5 id="kill命令"><a href="#kill命令" class="headerlink" title="kill命令"></a>kill命令</h5><p>kill命令用于终止某个指定PID的服务进程，格式为“kill [参数] [进程PID]”。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# kill 1134</span><br></pre></td></tr></table></figure>

<h5 id="killall命令"><a href="#killall命令" class="headerlink" title="killall命令"></a>killall命令</h5><p>killall命令用于终止某个指定名称的服务所对应的全部进程，格式为：“killall [参数] [进程名称]”。</p>
<p><strong>注</strong>：如果我们在系统终端中执行一个命令后想立即停止它，可以同时按下Ctrl+C组合键（生产环境中比较常用的一个快捷键），这样将立即终止该命令的进程。或者，如果有些命令在执行时不断地在屏幕上输出信息，影响到后续命令的输入，则可以在执行命令时在末尾添加上一个&amp;符号，这样命令将进入系统后台来执行</p>
<h5 id="ifconfig命令"><a href="#ifconfig命令" class="headerlink" title="ifconfig命令"></a>ifconfig命令</h5><p>ifconfig命令用于获取网卡配置与网络状态等信息，格式为“ifconfig[网络设备] [参数]</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ifconfig</span><br><span class="line">docker0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 172.17.0.1  netmask 255.255.0.0  broadcast 172.17.255.255</span><br><span class="line">        inet6 fe80::42:58ff:fe25:553e  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 02:42:58:25:55:3e  txqueuelen 0  (Ethernet)</span><br><span class="line">        RX packets 54  bytes 3432 (3.3 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 8  bytes 432 (432.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.129.133  netmask 255.255.255.0  broadcast 192.168.129.255</span><br><span class="line">        inet6 fe80::f521:ece1:60d7:e5ab  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 00:0c:29:9b:d7:c6  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 530437  bytes 756707251 (721.6 MiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 66538  bytes 4277794 (4.0 MiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 696  bytes 59560 (58.1 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 696  bytes 59560 (58.1 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br></pre></td></tr></table></figure>

<h5 id="uname命令"><a href="#uname命令" class="headerlink" title="uname命令"></a>uname命令</h5><p>uname命令用于查看系统内核与系统版本等信息，格式为uname [-a]</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# uname -a</span><br><span class="line">Linux 192.168.129.133 3.10.0-1160.71.1.el7.x86_64 #1 SMP Tue Jun 28 15:37:28 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux</span><br></pre></td></tr></table></figure>

<p>如果要查看当前系统版本的详细信息，则需要查看redhat-release文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat /etc/centos-release</span><br><span class="line">CentOS Linux release 7.9.2009 (Core)</span><br></pre></td></tr></table></figure>

<h5 id="uptime命令"><a href="#uptime命令" class="headerlink" title="uptime命令"></a>uptime命令</h5><p>uptime用于查看系统的负载信息，格式为uptime</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# uptime</span><br><span class="line"> 23:32:03 up  9:40,  3 users,  load average: 0.00, 0.01, 0.05</span><br></pre></td></tr></table></figure>

<h5 id="free命令"><a href="#free命令" class="headerlink" title="free命令"></a>free命令</h5><p>free用于显示当前系统中内存的使用量信息，格式为free [-h]</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# free -h</span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           3.7G        1.3G        240M         94M        2.2G        2.1G</span><br><span class="line">Swap:          952M          8K        952M</span><br><span class="line">									#可用         #进程共享  #磁盘缓存内存    </span><br></pre></td></tr></table></figure>

<h5 id="who命令"><a href="#who命令" class="headerlink" title="who命令"></a>who命令</h5><p>who用于查看当前登入主机的用户终端信息，格式为who [参数]</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# who</span><br><span class="line">root     :0           2022-10-15 00:19 (:0)</span><br><span class="line">root     pts/0        2022-11-02 21:30 (:0)</span><br><span class="line">root     pts/1        2022-11-02 21:51 (:0)</span><br></pre></td></tr></table></figure>

<h5 id="last命令"><a href="#last命令" class="headerlink" title="last命令"></a>last命令</h5><p>last命令用于查看所有系统的登录记录，格式为last [参数]</p>
<p>使用last命令可以查看本机的登录记录。但是，由于这些信息都是以日志文件的形式保存在系统中，因此黑客可以很容易地对内容进行篡改。千万不要单纯以该命令的输出信息而判断系统有无被恶意入侵！</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# last</span><br><span class="line">root     pts/1        :0               Wed Nov  2 21:51   still logged in   </span><br><span class="line">root     pts/0        :0               Wed Nov  2 21:30   still logged in   </span><br><span class="line">root     pts/0        :0               Wed Nov  2 21:16 - 21:29  (00:12)    </span><br><span class="line">root     pts/1        :0               Sun Oct 30 23:17 - 21:15 (2+21:58)   </span><br><span class="line">root     pts/0        :0               Sat Oct 15 00:19 - 21:16 (18+20:56)  </span><br><span class="line">root     :0           :0               Sat Oct 15 00:19   still logged in   </span><br><span class="line">reboot   system boot  3.10.0-1160.71.1 Sat Oct 15 00:19 - 23:37 (19+23:18)  </span><br><span class="line">reboot   system boot  3.10.0-1160.71.1 Sat Oct 15 00:18 - 23:37 (19+23:18)  </span><br><span class="line">reboot   system boot  3.10.0-1160.71.1 Sat Oct 15 00:13 - 00:13  (00:00)    </span><br><span class="line">root     pts/1        :0               Fri Aug 26 08:09 - 08:09  (00:00)    </span><br><span class="line">root     pts/0        :0               Fri Aug 26 08:09 - 08:12  (00:02)    </span><br><span class="line">root     pts/0        :0               Fri Aug 26 08:06 - 08:07  (00:00)    </span><br><span class="line">root     :0           :0               Fri Aug 26 08:04 - crash (49+16:08)  </span><br><span class="line">reboot   system boot  3.10.0-1160.71.1 Fri Aug 26 08:03 - 00:13 (49+16:09)  </span><br><span class="line"></span><br><span class="line">wtmp begins Fri Aug 26 08:03:31 2022</span><br></pre></td></tr></table></figure>

<h5 id="history命令"><a href="#history命令" class="headerlink" title="history命令"></a>history命令</h5><p>history命令用于显示历史执行过的命令，格式为history [-c]</p>
<p>history命令能显示出当前用户在本地计算机中执行过的最近1000条命令记录。如果1000不够用，可自定义&#x2F;etc&#x2F;profile文件中的HISTSIZE变量值。在使用history命令时，如果使用-c参数则会清空所有的命令历史记录。还可以使用“！编码数字”的方式来重复执行某一次的命令。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# history</span><br><span class="line">    1  ping www.baidu.com</span><br><span class="line">    2  ip addr</span><br><span class="line">    3  [root@localhost ~]# yum install net-tools -y</span><br><span class="line">    4  docker version</span><br><span class="line">    5  ls</span><br><span class="line">    6  mkdir Chpater1</span><br><span class="line">    7  cd Chpater1/</span><br><span class="line">    8  yum -y install gcc  </span><br><span class="line">    9  yum -y install gcc-c++ </span><br></pre></td></tr></table></figure>

<p>历史命令会被保存到用户家目录中的．bash_history文件中</p>
<h5 id="sosreport命令"><a href="#sosreport命令" class="headerlink" title="sosreport命令"></a>sosreport命令</h5><p>sosreport命令用于收集系统配置及架构信息并输出诊断文档，格式为sosreport</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sosreport</span><br><span class="line"></span><br><span class="line">sosreport (version 3.9)</span><br><span class="line"></span><br><span class="line">This command will collect diagnostic and configuration information from</span><br><span class="line">this CentOS Linux system and installed applications.</span><br><span class="line"></span><br><span class="line">An archive containing the collected information will be generated in</span><br><span class="line">/var/tmp/sos.di8p85 and may be provided to a CentOS support</span><br><span class="line">representative.</span><br><span class="line"></span><br><span class="line">Any information provided to CentOS will be treated in accordance with</span><br><span class="line">the published support policies at:</span><br><span class="line"></span><br><span class="line">  https://wiki.centos.org/support</span><br><span class="line"></span><br><span class="line">The generated archive may contain data considered sensitive and its</span><br><span class="line">content should be reviewed by the originating organization before being</span><br><span class="line">passed to any third party.</span><br><span class="line"></span><br><span class="line">No changes will be made to system configuration.</span><br><span class="line"></span><br><span class="line">按 ENTER 键继续，或者 CTRL-C 组合键退出。#回车</span><br><span class="line"></span><br><span class="line">Please enter the case id that you are generating this report for []:#回车 </span><br><span class="line"></span><br><span class="line"> Setting up archive ...</span><br><span class="line"> Setting up plugins ...</span><br><span class="line">[plugin:firewalld] skipped command &#x27;nft list ruleset&#x27;: required kmods missing: nfnetlink, nf_tables.  Use &#x27;--allow-system-changes&#x27; to enable collection.</span><br><span class="line">[plugin:ipa] skipped command &#x27;getcert list&#x27;: required services missing: certmonger. </span><br><span class="line">[plugin:networking] skipped command &#x27;nft list ruleset&#x27;: required kmods missing: nf_tables. </span><br><span class="line">[plugin:networking] skipped command &#x27;ip -s macsec show&#x27;: required kmods missing: macsec.  Use &#x27;--allow-system-changes&#x27; to enable collection.</span><br><span class="line">[plugin:networking] skipped command &#x27;ss -peaonmi&#x27;: required kmods missing: inet_diag, udp_diag, tcp_diag, netlink_diag, af_packet_diag, unix_diag.  Use &#x27;--allow-system-changes&#x27; to enable collection.</span><br><span class="line">[plugin:sssd] skipped command &#x27;sssctl config-check&#x27;: required services missing: sssd. </span><br><span class="line"> Running plugins. Please wait ...</span><br><span class="line"></span><br><span class="line">  Finishing plugins              [Running: yum]                                           </span><br><span class="line">  Finished running plugins                                                               </span><br><span class="line">生成压缩归档......</span><br><span class="line"></span><br><span class="line">Your sosreport has been generated and saved in:</span><br><span class="line">  /var/tmp/sosreport-192-2022-11-03-qwowzaw.tar.xz  # 发送给技术人员</span><br><span class="line"></span><br><span class="line"> Size	10.75MiB</span><br><span class="line"> Owner	root</span><br><span class="line"> md5	b8e69c28c3ad7fcd3a50f7adfecf103e</span><br><span class="line"></span><br><span class="line">Please send this file to your support representative.</span><br></pre></td></tr></table></figure>

<p>当Linux系统出现故障需要联系技术支持人员时，大多数时候都要先使用这个命令来简单收集系统的运行状态和服务配置信息，以便让技术支持人员能够远程解决一些小问题，亦或让他们能提前了解某些复杂问题。</p>
<h5 id="pwd命令"><a href="#pwd命令" class="headerlink" title="pwd命令"></a>pwd命令</h5><p>pwd命令用于显示用户当前所处的工作目录，格式为pwd [选项]</p>
<h5 id="cd命令"><a href="#cd命令" class="headerlink" title="cd命令"></a>cd命令</h5><p>cd命令用于切换工作路径，格式为cd [目录名称]</p>
<p>cd -命令返回到上一次所处的目录</p>
<h5 id="ls命令"><a href="#ls命令" class="headerlink" title="ls命令"></a>ls命令</h5><p>ls命令用于显示目录中的文件信息，格式为ls [选项] [文件] </p>
<h5 id="cat命令"><a href="#cat命令" class="headerlink" title="cat命令"></a>cat命令</h5><p>cat命令用于查看纯文本文件（内容较少的），格式为cat [选项] [文件]</p>
<p>-n  显示行号</p>
<h5 id="more命令"><a href="#more命令" class="headerlink" title="more命令"></a>more命令</h5><p>more命令用于查看纯文本文件（内容较多的），格式为more [选项]文件</p>
<h5 id="head命令"><a href="#head命令" class="headerlink" title="head命令"></a>head命令</h5><p>head命令用于查看纯文本文档的前N行，格式为“head [选项] [文件]”。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">head -n 20 a.cfg</span><br></pre></td></tr></table></figure>

<h5 id="tail命令"><a href="#tail命令" class="headerlink" title="tail命令"></a>tail命令</h5><p>tail命令用于查看纯文本文档的后N行或持续刷新内容，格式为tail [选项] [文件]</p>
<p><strong>tail命令最强悍的功能是可以持续刷新一个文件的内容，当想要实时查看最新日志文件时，这特别有用，此时的命令格式为“tail -f 文件名”</strong></p>
<h5 id="tr命令"><a href="#tr命令" class="headerlink" title="tr命令"></a>tr命令</h5><p>tr命令用于替换文本文件中的字符，格式tr [原始字符] [目标字符]</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat filename | tr [a-z] [A-Z] # 小写变大写</span><br></pre></td></tr></table></figure>

<h5 id="wc命令"><a href="#wc命令" class="headerlink" title="wc命令"></a>wc命令</h5><p>wc命令用于统计指定文本的行数、字数、字节数，格式为wc [参数]文本</p>
<ul>
<li>-l    只显示行数</li>
<li>-w   只显示单词数</li>
<li>-c   只显示字节数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# wc -l /etc/passwd   # 统计当前系统中有多少个用户</span><br><span class="line">44 /etc/passwd</span><br></pre></td></tr></table></figure>

<h5 id="stat命令"><a href="#stat命令" class="headerlink" title="stat命令"></a>stat命令</h5><p>stat命令用于查看文件的具体存储信息和时间等信息，格式为stat文件名称。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# stat anaconda-ks.cfg </span><br><span class="line">  文件：&quot;anaconda-ks.cfg&quot;</span><br><span class="line">  大小：1894      	块：8          IO 块：4096   普通文件</span><br><span class="line">设备：803h/2051d	Inode：33582178    硬链接：1</span><br><span class="line">权限：(0600/-rw-------)  Uid：(    0/    root)   Gid：(    0/    root)</span><br><span class="line">环境：system_u:object_r:admin_home_t:s0</span><br><span class="line">最近访问：2022-11-03 23:42:21.278650501 +0800</span><br><span class="line">最近更改：2022-08-26 08:03:02.385066189 +0800</span><br><span class="line">最近改动：2022-08-26 08:03:02.385066189 +0800</span><br><span class="line">创建时间：-</span><br></pre></td></tr></table></figure>

<h5 id="cut命令"><a href="#cut命令" class="headerlink" title="cut命令"></a>cut命令</h5><p>cut命令用于按“列”提取文本字符，格式为cut [参数]文本</p>
<h5 id="diff命令"><a href="#diff命令" class="headerlink" title="diff命令"></a>diff命令</h5><p>diff命令用于比较多个文本文件的差异，格式为diff [参数]文件</p>
<p>使用–brief参数来确认两个文件是否不同，还可以使用-c参数来详细比较出多个文件的差异之处</p>
<h5 id="touch命令"><a href="#touch命令" class="headerlink" title="touch命令"></a>touch命令</h5><p>touch命令用于创建空白文件或设置文件的时间，格式为touch [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>仅修改“读取时间”（atime）</td>
</tr>
<tr>
<td>-m</td>
<td>仅修改“修改时间”  (mtime)</td>
</tr>
<tr>
<td>-d</td>
<td>同时修改atime 与 mtime</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls -l anaconda-ks.cfg </span><br><span class="line">-rw-------. 1 root root 1894 8月  26 08:03 anaconda-ks.cfg</span><br><span class="line">[root@localhost ~]# echo abc12345 &gt;&gt; anaconda-ks.cfg </span><br><span class="line">[root@localhost ~]# ls -l anaconda-ks.cfg </span><br><span class="line">-rw-------. 1 root root 1903 11月  4 00:02 anaconda-ks.cfg</span><br><span class="line">[root@localhost ~]# touch -d &quot;2019-09-01 13:13&quot; anaconda-ks.cfg </span><br><span class="line">[root@localhost ~]# ls -l anaconda-ks.cfg </span><br><span class="line">-rw-------. 1 root root 1903 9月   1 2019 anaconda-ks.cfg</span><br></pre></td></tr></table></figure>

<h5 id="mkdir命令"><a href="#mkdir命令" class="headerlink" title="mkdir命令"></a>mkdir命令</h5><p>mkdir命令用于创建空白的目录，格式为mkdir [选项]目录</p>
<p>-p  递归创建</p>
<h5 id="cp命令"><a href="#cp命令" class="headerlink" title="cp命令"></a>cp命令</h5><p>cp命令用于复制文件或目录，格式为cp [选项]源文件 目标文件。</p>
<ul>
<li>如果目标文件是目录，则会把源文件复制到该目录中；</li>
<li>如果目标文件也是普通文件，则会询问是否要覆盖它；</li>
<li>如果目标文件不存在，则执行正常的复制操作。</li>
</ul>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-p</td>
<td>保留原始文件的属性</td>
</tr>
<tr>
<td>-d</td>
<td>若对象为链接文件，则保留链接文件的属性</td>
</tr>
<tr>
<td>-r</td>
<td>递归复制 用于目录</td>
</tr>
<tr>
<td>-i</td>
<td>若目标文件存在询问是否覆盖</td>
</tr>
<tr>
<td>-a</td>
<td>&#x3D;&#x3D; -pdr</td>
</tr>
</tbody></table>
<h5 id="mv命令"><a href="#mv命令" class="headerlink" title="mv命令"></a>mv命令</h5><p>mv命令用于剪切文件或将文件重命名，格式为mv [选项]源文件 [目标路径|目标文件名]</p>
<h5 id="rm命令"><a href="#rm命令" class="headerlink" title="rm命令"></a>rm命令</h5><p>rm命令用于删除文件或目录，格式为rm [选项]文件</p>
<h5 id="dd命令"><a href="#dd命令" class="headerlink" title="dd命令"></a>dd命令</h5><p>dd命令用于按照指定大小和个数的数据块来复制文件或转换文件，格式为dd [参数]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>if</td>
<td>输入文件名称</td>
</tr>
<tr>
<td>of</td>
<td>输出文件名称</td>
</tr>
<tr>
<td>bs</td>
<td>设置每个块的大小</td>
</tr>
<tr>
<td>count</td>
<td>设置要复制块的个数</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# dd if=/dev/zero of=560_file count=1 bs=560M</span><br><span class="line">记录了1+0 的读入</span><br><span class="line">记录了1+0 的写出</span><br><span class="line">587202560字节(587 MB)已复制，5.94452 秒，98.8 MB/秒</span><br></pre></td></tr></table></figure>

<h5 id="file命令"><a href="#file命令" class="headerlink" title="file命令"></a>file命令</h5><p>file命令用于查看文件的类型，格式为file文件名</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# file anaconda-ks.cfg </span><br><span class="line">anaconda-ks.cfg: ASCII text</span><br><span class="line">[root@localhost ~]# file /dev/sda</span><br><span class="line">/dev/sda: block special</span><br></pre></td></tr></table></figure>

<h5 id="tar命令"><a href="#tar命令" class="headerlink" title="tar命令"></a>tar命令</h5><p>tar命令用于对文件进行打包压缩或解压，格式为tar [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>创建压缩文件</td>
</tr>
<tr>
<td>-x</td>
<td>解开压缩文件</td>
</tr>
<tr>
<td>-t</td>
<td>查看压缩包内有什么文件</td>
</tr>
<tr>
<td>-z</td>
<td>用Gzip压缩或解压</td>
</tr>
<tr>
<td>-j</td>
<td>用bzip2压缩或解压</td>
</tr>
<tr>
<td>-v</td>
<td>显示压缩或解压过程</td>
</tr>
<tr>
<td>-f</td>
<td>目标文件名</td>
</tr>
<tr>
<td>-P</td>
<td>保留原始的权限和属性</td>
</tr>
<tr>
<td>-p</td>
<td>使用绝对路径来压缩</td>
</tr>
<tr>
<td>-C</td>
<td>指定解压到的目录</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# tar -czvf etc.tat.gz /etc</span><br><span class="line">tar: 从成员名中删除开头的“/”</span><br><span class="line">/etc/</span><br><span class="line">/etc/fstab</span><br><span class="line">/etc/crypttab</span><br><span class="line">····</span><br><span class="line">[root@localhost ~]# mkdir etc</span><br><span class="line">[root@localhost ~]# tar xzvf etc.tat.gz -C ./etc</span><br><span class="line">etc/</span><br><span class="line">etc/fstab</span><br><span class="line">etc/crypttab</span><br><span class="line">etc/mtab</span><br><span class="line">·····</span><br></pre></td></tr></table></figure>

<h5 id="grep命令"><a href="#grep命令" class="headerlink" title="grep命令"></a>grep命令</h5><p>grep命令用于在文本中执行关键词搜索，并显示匹配的结果，格式为grep [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-b</td>
<td>将可执行文件当作文本文件来搜索</td>
</tr>
<tr>
<td>-c</td>
<td>仅显示找到的行数</td>
</tr>
<tr>
<td>-i</td>
<td>忽略大小</td>
</tr>
<tr>
<td>-h</td>
<td>显示行号</td>
</tr>
<tr>
<td>-v</td>
<td>反向选择–仅列出没有关键词的行</td>
</tr>
</tbody></table>
<h5 id="find命令"><a href="#find命令" class="headerlink" title="find命令"></a>find命令</h5><p>find命令用于按照指定条件来查找文件，格式为find [查找路径]寻找条件 操作、</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-name</td>
<td>匹配名称</td>
</tr>
<tr>
<td>-perm</td>
<td>匹配权限（mode为完全匹配，-mode为包含即可）</td>
</tr>
<tr>
<td>-user</td>
<td>匹配所有者</td>
</tr>
<tr>
<td>-group</td>
<td>匹配所有组</td>
</tr>
<tr>
<td>-mtime -n +n</td>
<td>匹配修改内容的时间（-n指n天以内，+n指n天以前）</td>
</tr>
<tr>
<td>-atime -n +n</td>
<td>匹配访问文件的时间（-n指n天以内，+n指n天以前）</td>
</tr>
<tr>
<td>-ctime -n +n</td>
<td>匹配修改文件权限的时间（-n指n天以内，+n指n天以前）</td>
</tr>
<tr>
<td>-nouser</td>
<td>匹配无所有者的文件</td>
</tr>
<tr>
<td>-nogroup</td>
<td>匹配无所有组的文件</td>
</tr>
<tr>
<td>-newer f1 !f2</td>
<td>匹配比文件f1新但比f2旧的文件</td>
</tr>
<tr>
<td>–type b&#x2F;d&#x2F;c&#x2F;p&#x2F;l&#x2F;f</td>
<td>匹配文件类型（后面的字幕字母依次表示块设备、目录、字符设备、管道、链接文件、文本文件）</td>
</tr>
<tr>
<td>-size</td>
<td>匹配文件的大小（+50KB为查找超过50KB的文件，而-50KB为查找小于50KB的文件）</td>
</tr>
<tr>
<td>-prune</td>
<td>忽略某个目录</td>
</tr>
<tr>
<td>-exec …… {};</td>
<td>后面可跟用于进一步处理搜索结果的命令（下文会有演示）</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# find /etc -name &quot;host*&quot; -print</span><br><span class="line">/etc/host.conf</span><br><span class="line">/etc/hosts</span><br><span class="line">/etc/hosts.allow</span><br><span class="line">/etc/hosts.deny</span><br><span class="line">/etc/selinux/targeted/active/modules/100/hostname</span><br><span class="line">/etc/hostname</span><br><span class="line">/etc/avahi/hosts</span><br><span class="line">[root@localhost ~]# find / -perm -4000 -print</span><br><span class="line">\find: ‘/proc/73163/task/73163/fd/5’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/73163/task/73163/fdinfo/5’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/73163/fd/6’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/73163/fdinfo/6’: 没有那个文件或目录</span><br><span class="line">/var/lib/docker/overlay2/8f6674c61338e50e09a91240923484d9434214af748ef56d8503b68c438b0ef2/diff/bin/mount</span><br><span class="line">/var/lib/docker/overlay2/8f6674c61338e50e09a91240923484d9434214af748ef56d8503b68c438b0ef2/diff/bin/su</span><br><span class="line">/var/lib/docker/overlay2/8f6674c61338e50e09a91240923484d9434214af748ef56d8503b68c438b0ef2/diff/bin/umount</span><br><span class="line">/var/lib/docker/overlay2/8f6674c61338e50e09a91240923484d9434214af748ef56d8503b68c438b0ef2/diff/usr/bin/chfn</span><br><span class="line">/var/lib/docker/overlay2/8f6674c61338e50e09a91240923484d9434214af748ef56d8503b68c438b0ef2/diff/usr/bin/chsh</span><br><span class="line">[root@localhost ~]# find / -user linuxprobe -exec cp -a &#123;&#125; /root/findresults/ \;</span><br><span class="line">find: 用户名 ‘linuxprobe’ 未知</span><br><span class="line">[root@localhost ~]# find / -user qrrk -exec cp -a &#123;&#125; /root/findresults/ \;</span><br><span class="line">find: ‘/proc/73228/task/73228/fd/5’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/73228/task/73228/fdinfo/5’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/73228/fd/6’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/73228/fdinfo/6’: 没有那个文件或目录</span><br><span class="line">cp: 无法以目录&quot;/home/qrrk&quot; 来覆盖非目录&quot;/root/findresults/qrrk&quot;</span><br><span class="line">[root@localhost ~]# find / -user root -exec cp -a &#123;&#125; /root/findresults/ \;</span><br><span class="line">cp: 无法创建目录&quot;/root/findresults/proc/irq&quot;: 权限不够</span><br><span class="line">cp: 无法创建目录&quot;/root/findresults/proc/sys/crypto&quot;: 权限不够</span><br><span class="line">cp: 无法创建目录&quot;/root/findresults/proc/sys/dev&quot;: 权限不够</span><br><span class="line">cp: 读取&quot;/proc/sys/fs/binfmt_misc/register&quot; 时出错: 无效的参数</span><br><span class="line">cp: 扩展&quot;/root/findresults/proc/sys/fs/binfmt_misc/register&quot; 失败: 无效的参数</span><br></pre></td></tr></table></figure>

<h5 id="输入输出重定向"><a href="#输入输出重定向" class="headerlink" title="输入输出重定向"></a>输入输出重定向</h5><ul>
<li>标准输入重定向（STDIN，文件描述符为0）：默认从键盘输入，也可从其他文件或命令中输入。</li>
<li>标准输出重定向（STDOUT，文件描述符为1）：默认输出到屏幕。</li>
<li>错误输出重定向（STDERR，文件描述符为2）：默认输出到屏幕。</li>
</ul>
<p>输入重定向</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>命令  &lt;文件</td>
<td>将文件作为命令的标准输入</td>
</tr>
<tr>
<td>命令  &lt;&lt;分界符</td>
<td>从标准输入中读入，直到遇见分界符才停止</td>
</tr>
<tr>
<td>命令  &lt;文件1 &gt;文件2</td>
<td>将文件1作为命令的标准输入并将标准输出到文件2</td>
</tr>
</tbody></table>
<p>输出重定向</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>命令 &gt;文件</td>
<td>将标准输出重定向到一个文件中（清空原有文件的数据）</td>
</tr>
<tr>
<td>命令 2&gt;文件</td>
<td>将错误输出重定向到一个文件中（清空原有文件的数据）</td>
</tr>
<tr>
<td>命令 &gt;&gt;文件</td>
<td>将标准输出重定向到一个文件中（追加到原内容后）</td>
</tr>
<tr>
<td>命令 2&gt;&gt;文件</td>
<td>将标准输出重定向到一个文件中（追加到原内容后）</td>
</tr>
<tr>
<td>命令 &gt;&gt;文件 2&gt;&amp;1 或 命令 &amp;&gt;&gt;文件</td>
<td>将标准输出和错误输出共同写入到文件中（追加到原内容后）</td>
</tr>
</tbody></table>
<h5 id="管道命令符"><a href="#管道命令符" class="headerlink" title="管道命令符"></a>管道命令符</h5><p>命令A|命令B：命令符的作用也可以用一句话来概括“把前一个命令原本要输出到屏幕的数据当作是后一个命令的标准输入”</p>
<h5 id="命令行的通配符"><a href="#命令行的通配符" class="headerlink" title="命令行的通配符"></a>命令行的通配符</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# ls -l /dev/sda*</span><br><span class="line">brw-rw----. 1 root disk 8, 0 11月  3 23:42 /dev/sda</span><br><span class="line">brw-rw----. 1 root disk 8, 1 11月  3 23:42 /dev/sda1</span><br><span class="line">brw-rw----. 1 root disk 8, 2 11月  3 23:42 /dev/sda2</span><br><span class="line">brw-rw----. 1 root disk 8, 3 11月  3 23:42 /dev/sda3</span><br><span class="line">[root@192 ~]# ls -l /dev/sda?</span><br><span class="line">brw-rw----. 1 root disk 8, 1 11月  3 23:42 /dev/sda1</span><br><span class="line">brw-rw----. 1 root disk 8, 2 11月  3 23:42 /dev/sda2</span><br><span class="line">brw-rw----. 1 root disk 8, 3 11月  3 23:42 /dev/sda3</span><br><span class="line">[root@192 ~]# ls -l /dev/sda[0-9]</span><br><span class="line">brw-rw----. 1 root disk 8, 1 11月  3 23:42 /dev/sda1</span><br><span class="line">brw-rw----. 1 root disk 8, 2 11月  3 23:42 /dev/sda2</span><br><span class="line">brw-rw----. 1 root disk 8, 3 11月  3 23:42 /dev/sda3</span><br><span class="line">[root@192 ~]# ls -l /dev/sda[135]</span><br><span class="line">brw-rw----. 1 root disk 8, 1 11月  3 23:42 /dev/sda1</span><br><span class="line">brw-rw----. 1 root disk 8, 3 11月  3 23:42 /dev/sda3</span><br></pre></td></tr></table></figure>

<h5 id="常用的转义字符"><a href="#常用的转义字符" class="headerlink" title="常用的转义字符"></a>常用的转义字符</h5><ul>
<li>反斜杠（\）：使反斜杠后面的一个变量变为单纯的字符串。</li>
<li>单引号（’’）：转义其中所有的变量为单纯的字符串。</li>
<li>双引号（””）：保留其中的变量属性，不进行转义处理。</li>
<li>反引号（&#96;&#96;）：把其中的命令执行后返回结果</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# PRICE=5</span><br><span class="line">[root@192 ~]# echo &quot;Price is $PRICE&quot;</span><br><span class="line">Price is 5</span><br><span class="line">[root@192 ~]# echo &quot;Price is $$PRICE&quot;</span><br><span class="line">Price is 74546PRICE </span><br><span class="line">[root@192 ~]# echo &quot;Price is \$$PRICE&quot;  # $$作用是显示当前程序的进程ID号码</span><br><span class="line">Price is $5</span><br><span class="line">[root@192 ~]# echo `uname -a`</span><br><span class="line">Linux 192.168.129.133 3.10.0-1160.71.1.el7.x86_64 #1 SMP Tue Jun 28 15:37:28 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux</span><br><span class="line">[root@192 ~]# uname -a</span><br><span class="line">Linux 192.168.129.133 3.10.0-1160.71.1.el7.x86_64 #1 SMP Tue Jun 28 15:37:28 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux</span><br></pre></td></tr></table></figure>

<h5 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h5><p>命令在Linux中的执行分为4个步骤:</p>
<p>第1步：判断用户是否以绝对路径或相对路径的方式输入命令（如&#x2F;bin&#x2F;ls），如果是的话则直接执行。</p>
<p>第2步：Linux系统检查用户输入的命令是否为“别名命令”，即用一个自定义的命令名称来替换原本的命令名称。可以用alias命令来创建一个属于自己的命令别名，格式为“alias别名&#x3D;命令”。若要取消一个命令别名，则是用unalias命令，格式为“unalias别名”。</p>
<p>第3步：Bash解释器判断用户输入的是内部命令还是外部命令。内部命令是解释器内部的指令，会被直接执行；而用户在绝大部分时间输入的是外部命令，这些命令交由步骤4继续处理。可以使用“type命令名称”来判断用户输入的命令是内部命令还是外部命令。</p>
<p>第4步：系统在多个路径中查找用户输入的命令文件，而定义这些路径的变量叫作PATH，可以简单地把它理解成是“解释器的小助手”，作用是告诉Bash解释器待执行的命令可能存放的位置，然后Bash解释器就会乖乖地在这些位置中逐个查找。PATH是由多个路径值组成的变量，每个路径值之间用冒号间隔，对这些路径的增加和删除操作将影响到Bash解释器对Linux命令的查找。</p>
<table>
<thead>
<tr>
<th>变量名称</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>HOME</td>
<td>用户的主目录</td>
</tr>
<tr>
<td>SHELL</td>
<td>用户在使用的shell解释器名称</td>
</tr>
<tr>
<td>HISTSIZE</td>
<td>输出的历史命令记录条数</td>
</tr>
<tr>
<td>HISTFILESIZE</td>
<td>保存的历史命令记录条数</td>
</tr>
<tr>
<td>MALL</td>
<td>邮件保存路径</td>
</tr>
<tr>
<td>LANG</td>
<td>系统语言、语系名称</td>
</tr>
<tr>
<td>RANDOM</td>
<td>生成一个随机数字</td>
</tr>
<tr>
<td>PS1</td>
<td>Bash解释器的提示符</td>
</tr>
<tr>
<td>PATH</td>
<td>定义解释器搜素用户执行命令的路径</td>
</tr>
<tr>
<td>EDITOR</td>
<td>用户默认的文本编辑器</td>
</tr>
</tbody></table>
<p><strong>可以使用export命令将其提升为全局变量，这样其他用户也就可以使用它</strong></p>
<h5 id="VIM"><a href="#VIM" class="headerlink" title="VIM"></a>VIM</h5><p><img src="https://cdn.staticaly.com/gh/qierenrongku/images@master/image-20221107230348102.4r6act4318c0.webp" alt="image-20221107230348102"></p>
<p>命令模式：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>dd</td>
<td>删除（剪切）光标所在整行</td>
</tr>
<tr>
<td>5dd</td>
<td>删除（剪切）从光标处开始的5行</td>
</tr>
<tr>
<td>yy</td>
<td>复制光标所在整行</td>
</tr>
<tr>
<td>5yy</td>
<td>复制从光标处开始的5行</td>
</tr>
<tr>
<td>n</td>
<td>显示搜索命令定位到的下一个字符串</td>
</tr>
<tr>
<td>N</td>
<td>显示搜索命令定位到的上一个字符串</td>
</tr>
<tr>
<td>u</td>
<td>撤销上一步的操作</td>
</tr>
<tr>
<td>p</td>
<td>将之前删除（dd）或复制（yy）过的数据粘贴到光标后面</td>
</tr>
</tbody></table>
<p>末行模式:</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>:w</td>
<td>保存</td>
</tr>
<tr>
<td>:q</td>
<td>退出</td>
</tr>
<tr>
<td>:q!</td>
<td>强制退出（放弃对文档的修改内容）</td>
</tr>
<tr>
<td>:wq!</td>
<td>强制保存退出</td>
</tr>
<tr>
<td>:set nu</td>
<td>显示行号</td>
</tr>
<tr>
<td>:set nonu</td>
<td>不显示行号</td>
</tr>
<tr>
<td>:命令</td>
<td>执行该命令</td>
</tr>
<tr>
<td>:整数</td>
<td>跳转到该行</td>
</tr>
<tr>
<td>: s&#x2F;one&#x2F;two</td>
<td>将当前光标所在行的第一个one替换成two</td>
</tr>
<tr>
<td>: s&#x2F;one&#x2F;two&#x2F;g</td>
<td>将当前光标所在行的所有one替换成two</td>
</tr>
<tr>
<td>:%s&#x2F;one&#x2F;two&#x2F;g</td>
<td>将全文中的所有one替换成two</td>
</tr>
<tr>
<td>?字符串</td>
<td>在文本中从下至上搜索该字符串</td>
</tr>
<tr>
<td>&#x2F;字符串</td>
<td>在文本中从上至下搜索该字符串</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/etc/hostname #主机名称文件		配置主机名称</span><br><span class="line">/etc/sysconfig/network-scripts  #目录中存放着网卡的配置文件		配置网卡信息</span><br><span class="line">/etc/yum.repos.d/	#目录中存放着Yum软件仓库的配置文件			配置Yum软件仓库</span><br></pre></td></tr></table></figure>

<h5 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h5><ul>
<li>$0对应的是当前Shell脚本程序的名称，</li>
<li>$#对应的是总共有几个参数，</li>
<li>$*对应的是所有位置的参数值，</li>
<li>$？对应的是显示上一次命令的执行返回值，</li>
<li>$1、$2、$3……则分别对应着第N个位置的参数值</li>
</ul>
<table>
<thead>
<tr>
<th>运算符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>测试文件是否为目录类型</td>
</tr>
<tr>
<td>-e</td>
<td>测试文件是否存在</td>
</tr>
<tr>
<td>-f</td>
<td>判断是否为一般文件</td>
</tr>
<tr>
<td>-r</td>
<td>测试当前用户是否有权限读取</td>
</tr>
<tr>
<td>-w</td>
<td>测试当前用户是否有权限写入</td>
</tr>
<tr>
<td>-x</td>
<td>测试当前用户是否有权限执行</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# [ -d /etc/fstab ]</span><br><span class="line">[root@192 ~]# echo $?</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-eq</td>
<td>是否等于</td>
</tr>
<tr>
<td>-ne</td>
<td>是否不等于</td>
</tr>
<tr>
<td>-gt</td>
<td>是否大于</td>
</tr>
<tr>
<td>-lt</td>
<td>是否小于</td>
</tr>
<tr>
<td>-le</td>
<td>是否等于或小于</td>
</tr>
<tr>
<td>-ge</td>
<td>是否大于或等于</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;</td>
<td>比较字符串内容是否相同</td>
</tr>
<tr>
<td>!&#x3D;</td>
<td>比较字符串内容是否不同</td>
</tr>
<tr>
<td>-z</td>
<td>判断字符串内容是否为空</td>
</tr>
</tbody></table>
<h5 id="if"><a href="#if" class="headerlink" title="if"></a>if</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">if 条件测试操作</span><br><span class="line">	then 命令序列</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">! /bin/bash</span></span><br><span class="line">DIR=&quot;/media/cdrom&quot;</span><br><span class="line">if [ ! -e $DIR ]</span><br><span class="line">	then mkdir -p $DIR</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if 条件测试操作</span><br><span class="line">	then 命令序列1</span><br><span class="line">	else 命令序列2</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if 条件测试操作1</span><br><span class="line">	then 命令序列1</span><br><span class="line">elif 条件测试操作2</span><br><span class="line">	then 命令序列2</span><br><span class="line">else</span><br><span class="line">	命令序列3</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h5 id="for"><a href="#for" class="headerlink" title="for"></a>for</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量名 in 取值列表</span><br><span class="line">do</span><br><span class="line">	命令序列</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h5 id="while"><a href="#while" class="headerlink" title="while"></a>while</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while 条件测试操作</span><br><span class="line">do</span><br><span class="line">	命令序列</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h5 id="case"><a href="#case" class="headerlink" title="case"></a>case</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">case 变量值 in</span><br><span class="line">模式1）</span><br><span class="line">	命令序列1</span><br><span class="line">	;;</span><br><span class="line">模式2）</span><br><span class="line">	命令序列2</span><br><span class="line">	;;</span><br><span class="line">	......</span><br><span class="line">*)</span><br><span class="line">	默认序列</span><br><span class="line">esac</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -p &quot;请输入一个字符，并按Enter键确认：&quot; KEY</span><br><span class="line">case &quot;$KEY&quot; in</span><br><span class="line">        [a-z]|[A-Z])</span><br><span class="line">                echo &quot;您输入的是 字母。&quot;</span><br><span class="line">                ;;</span><br><span class="line">        [0-9])</span><br><span class="line">                echo &quot;您输入的是 数字。&quot;</span><br><span class="line">                ;;</span><br><span class="line">        *)</span><br><span class="line">                echo &quot;您输入的是 空格、功能键或其他控制字符。&quot;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<h5 id="计划任务服务程序"><a href="#计划任务服务程序" class="headerlink" title="计划任务服务程序"></a>计划任务服务程序</h5><ul>
<li>一次性计划任务：今晚11点30分开启网站服务。</li>
<li>长期性计划任务：每周一的凌晨3点25分把&#x2F;home&#x2F;wwwroot目录打包备份为backup.tar.gz。</li>
</ul>
<p>如果想要查看已设置好但还未执行的一次性计划任务，可以使用“at -l”命令；要想将其删除，可以用“atrm任务序号”。</p>
<p>如果我们希望Linux系统能够周期性地、有规律地执行某些具体的任务，那么Linux系统中默认启用的crond服务简直再适合不过了。创建、编辑计划任务的命令为“crontab -e”，查看当前计划任务的命令为“crontab -l”，删除某条计划任务的命令为“crontab -r”。另外，如果您是以管理员的身份登录的系统，还可以在crontab命令中加上-u参数来编辑他人的计划任务。</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>分</td>
<td>取值为0～59的整数</td>
</tr>
<tr>
<td>时</td>
<td>取值为0～23的任意整数</td>
</tr>
<tr>
<td>日</td>
<td>取值为1～31的任意整数</td>
</tr>
<tr>
<td>月</td>
<td>取值为1～12的任意整数</td>
</tr>
<tr>
<td>星期</td>
<td>取值为0～7的任意整数，其中0与7均为星期日</td>
</tr>
<tr>
<td>命令</td>
<td>要执行的命令或程序脚本</td>
</tr>
</tbody></table>
<h5 id="useradd"><a href="#useradd" class="headerlink" title="useradd"></a>useradd</h5><p>useradd命令用于创建新的用户，格式为useradd [选项]用户名</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>指定用户的家目录（默认为&#x2F;home&#x2F;username）</td>
</tr>
<tr>
<td>-e</td>
<td>帐号有效截至日期，格式：YYYY-MM-DD.</td>
</tr>
<tr>
<td>-u</td>
<td>指定该用户的默认UID</td>
</tr>
<tr>
<td>-g</td>
<td>指定一个初始的用户基本组（必须已存在）</td>
</tr>
<tr>
<td>-G</td>
<td>指定一个或多个扩展用户组</td>
</tr>
<tr>
<td>-N</td>
<td>不创建与用户同名的基本用户组</td>
</tr>
<tr>
<td>-s</td>
<td>指定该用户的默认Shell</td>
</tr>
</tbody></table>
<h5 id="groupadd"><a href="#groupadd" class="headerlink" title="groupadd"></a>groupadd</h5><p>groupadd命令用于创建用户组，格式为groupadd [选项]群组名</p>
<h5 id="usermod"><a href="#usermod" class="headerlink" title="usermod"></a>usermod</h5><p>usermod命令用于修改用户的属性，格式为usermod [选项]用户名</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>填写帐号的备注信息</td>
</tr>
<tr>
<td>-d -m</td>
<td>-m与-d连用，可重新指定用户的家目录并自动把旧的数据转移过去。</td>
</tr>
<tr>
<td>-e</td>
<td>帐户到期时间，格式“YYYY-MM-DD”</td>
</tr>
<tr>
<td>-g</td>
<td>变更所属用户组</td>
</tr>
<tr>
<td>-G</td>
<td>变更扩展用户组</td>
</tr>
<tr>
<td>-L</td>
<td>锁定用户禁止其登陆系统</td>
</tr>
<tr>
<td>-U</td>
<td>解锁用户，允许其登陆系统</td>
</tr>
<tr>
<td>-s</td>
<td>变更默认终端</td>
</tr>
<tr>
<td>-u</td>
<td>修改用户的UID</td>
</tr>
</tbody></table>
<h5 id="passwd"><a href="#passwd" class="headerlink" title="passwd"></a>passwd</h5><p>passwd命令用于修改用户密码、过期时间、认证信息等，格式为passwd 选项 用户名</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-l</td>
<td>锁定用户禁止其登陆</td>
</tr>
<tr>
<td>-u</td>
<td>解除锁定，允许用户登陆。</td>
</tr>
<tr>
<td>–stdin</td>
<td>允许从标准输入修改用户密码，如(echo “NewPassWord” | passwd –stdin Username)</td>
</tr>
<tr>
<td>-d</td>
<td>使帐号无密码</td>
</tr>
<tr>
<td>-e</td>
<td>强制用户下次登陆时修改密码</td>
</tr>
<tr>
<td>-S</td>
<td>显示用户的密码状态</td>
</tr>
</tbody></table>
<h5 id="userdel"><a href="#userdel" class="headerlink" title="userdel"></a>userdel</h5><p>userdel命令用于删除用户，格式为userdel [选项]用户名</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>强制删除用户</td>
</tr>
<tr>
<td>-r</td>
<td>同时删除用户，家目录与其相关文件</td>
</tr>
</tbody></table>
<h5 id="文件权限与归属"><a href="#文件权限与归属" class="headerlink" title="文件权限与归属"></a>文件权限与归属</h5><ul>
<li>-：普通文件。</li>
<li>d：目录文件。</li>
<li>l：链接文件。</li>
<li>b：块设备文件。</li>
<li>c：字符设备文件。</li>
<li>p：管道文件。</li>
</ul>
<h5 id="chattr"><a href="#chattr" class="headerlink" title="chattr"></a>chattr</h5><p>chattr命令用于设置文件的隐藏权限，格式为chattr [参数]文件</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>无法对文件进行修改；若对目录设置了该参数，则仅能修改其中的子文件内容而 不能新建或删除文件</td>
</tr>
<tr>
<td>a</td>
<td>仅允许补充（追加）内容，无法覆盖&#x2F;删除内容（Append Only)</td>
</tr>
<tr>
<td>S</td>
<td>文件内容在变更后立即同步到硬盘（sync)</td>
</tr>
<tr>
<td>s</td>
<td>彻底从硬盘中删除，不可恢复（用0填充原文件所在硬盘区域）</td>
</tr>
<tr>
<td>A</td>
<td>不再修改这个文件或目录的最后访问时间（atime）</td>
</tr>
<tr>
<td>b</td>
<td>不在修改文件或目录的存取时间</td>
</tr>
<tr>
<td>D</td>
<td>检查压缩文件中的错误</td>
</tr>
<tr>
<td>d</td>
<td>使用dump命令备份时忽略本文件&#x2F;目录</td>
</tr>
<tr>
<td>c</td>
<td>默认将文件或目录进行压缩</td>
</tr>
<tr>
<td>u</td>
<td>当删除该文件后依然保留其在硬盘中的数据，方便日后回复</td>
</tr>
<tr>
<td>t</td>
<td>让文件系统支持尾部合并（tail-merging）</td>
</tr>
<tr>
<td>X</td>
<td>可以直接访问压缩文件中的内容</td>
</tr>
</tbody></table>
<h5 id="su"><a href="#su" class="headerlink" title="su"></a>su</h5><p>su命令用于变更使用者的身份（切换登录者），格式为su[-]用户名</p>
<p>sudo命令用于给普通用户提供额外权利来完成原本超级用户才能完成的任务,格式为sudo[参数]命令名称</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-h</td>
<td>列出帮助信息。</td>
</tr>
<tr>
<td>-l</td>
<td>列出当前用户可执行的命令。</td>
</tr>
<tr>
<td>-u 用户名或UID值</td>
<td>以指定的用户身份执行命令。</td>
</tr>
<tr>
<td>-k</td>
<td>清空安全时间，下次执行sudo 时需要再次密码验证。</td>
</tr>
<tr>
<td>-b</td>
<td>在后台执行指定的命令。</td>
</tr>
<tr>
<td>-p</td>
<td>更改询问密码的提示语。</td>
</tr>
</tbody></table>

        </div>

        

        
            <ul class="post-tags-box">
                
                    <li class="tag-item">
                        <a href="/tags/linux-shell/">#linux|shell</a>&nbsp;
                    </li>
                
            </ul>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2022/11/08/makefile/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">makefile</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2022/10/30/Docker/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Docker</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>
              -
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">且任容枯</a>
        </div>
        
        <div class="theme-info info-item">
            由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>








<div class="post-scripts">
    
</div>



</body>
</html>
